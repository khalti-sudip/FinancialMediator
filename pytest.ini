[pytest]
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Add coverage configuration
addopts = 
    --cov=banking_api 
    --cov=providers 
    --cov=services 
    --cov-report=term-missing 
    --cov-fail-under=80
    --cov-context=test
    --cov-context=branch
    --cov-context=method

# Test directories
testpaths = 
    tests/
    banking_api/tests/
    providers/tests/
    services/tests/

# Plugins
addopts = 
    -p pytest-cov
    -p pytest-mock
    -p pytest-asyncio
    -p pytest-xdist

# Test execution
numprocesses = auto
maxprocesses = 4

# Mock settings
mock_use_standalone_module = true
mock_trace = true

# Asyncio settings
asyncio_mode = auto
asyncio_scope = session
